"use strict";(self["webpackChunkmobile2_0"]=self["webpackChunkmobile2_0"]||[]).push([[5176],{75176:function(l,e,o){o.r(e),o.d(e,{default:function(){return N}});o(57658);var t=o(70655),a=o(77577),n=o(7517),r=o(27486),s=o(89564),c=o(66654),i=o(38399),m=o(83468),u=o(28339),d=["src"],p=(0,a.defineComponent)({__name:"rollcall-item",props:{rollcall:{type:Object,required:!0}},setup:function(l){var e=l,t=(0,u.tv)(),p=(0,a.computed)((function(){return C.value===n.Sl.radar})),g=(0,a.computed)((function(){return C.value===n.Sl.number})),_=(0,a.computed)((function(){return C.value===n.Sl.qrCode})),v=(0,a.computed)((function(){return C.value===n.Sl.selfRegistration})),f=(0,a.computed)((function(){return"rollcall-"+(0,i.eV)(C.value)})),y=(0,a.computed)((function(){return"rollcall.type."+(0,i.eV)(C.value)})),C=(0,a.computed)((function(){return e.rollcall.isRadar?n.Sl.radar:e.rollcall.isNumber?n.Sl.number:e.rollcall.type===m.IV.selfRegistration?n.Sl.selfRegistration:n.Sl.qrCode})),k=function(){e.rollcall.needAnswer&&(g.value?t.push({name:r.q.AnswerNumberRollcall,params:{rollcallId:String(e.rollcall.id),courseId:String(e.rollcall.courseId)},extData:{noAnimation:!0,noAnimationWithBack:!0}}):p.value?t.push({name:r.q.AnswerRadarRollcall,params:{rollcallId:String(e.rollcall.id),courseId:String(e.rollcall.courseId)},extData:{noAnimation:!0,noAnimationWithBack:!0}}):v.value?t.push({name:r.q.AnswerSelfRegistrationRollcall,params:{rollcallId:String(e.rollcall.id),courseId:String(e.rollcall.courseId)},extData:{noAnimation:!0,noAnimationWithBack:!0}}):_.value&&c.Z.scan())},h=(0,a.computed)((function(){return s.Z.settings.darkMode?"course-cover-dark.png":"course-cover-light.png"}));return function(e,t){var n,r=(0,a.resolveComponent)("svg-icon"),s=(0,a.resolveDirective)("cache");return(0,a.openBlock)(),(0,a.createElementBlock)("div",{"data-testid":"container",class:(0,a.normalizeClass)(e.$style.container),onClick:k},[(0,a.withDirectives)((0,a.createElementVNode)("img",{src:o(93098)("./".concat(h.value)),class:(0,a.normalizeClass)(e.$style.cover)},null,10,d),[[s,{key:l.rollcall.courseId,value:l.rollcall.courseCover,cacheType:"course-cover"}]]),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(e.$style.content)},[(0,a.createElementVNode)("div",{"data-testid":"rollcallCourseTitle",class:(0,a.normalizeClass)(e.$style.title)},(0,a.toDisplayString)(l.rollcall.courseTitle),3),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(e.$style.info)},[l.rollcall.departmentName?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:0,class:(0,a.normalizeClass)(e.$style.department)},(0,a.toDisplayString)(l.rollcall.departmentName),3)):(0,a.createCommentVNode)("",!0),l.rollcall.className?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:1,"data-testid":"rollcallType",class:(0,a.normalizeClass)(e.$style.class)},(0,a.toDisplayString)(l.rollcall.className),3)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)((n={},n[e.$style.type]=!0,n[e.$style.radar]=p.value,n[e.$style.qrCode]=_.value,n[e.$style.number]=g.value,n[e.$style.selfRegistration]=v.value,n))},[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(e.$style.icon)},[(0,a.createVNode)(r,{name:f.value},null,8,["name"])],2),(0,a.createElementVNode)("div",{"data-testid":"rollcallTypeName",class:(0,a.normalizeClass)(e.$style.name)},(0,a.toDisplayString)(e.$t(y.value)),3)],2),"on_call_fine"===l.rollcall.status?((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:2,"data-testid":"rollcallStatus",class:(0,a.normalizeClass)(e.$style.status)},(0,a.toDisplayString)(e.$t("rollcall.answered")),3)):(0,a.createCommentVNode)("",!0)],2)],2)],2)}}}),g={markdownBody:"rollcall-item__markdown-body-WJw7Z",loginTypeLogo:"rollcall-item__login-type-logo-IpDZV",loginTemplateTitle:"rollcall-item__login-template-title-ZHPUJ",loginTemplateLoginOptions:"rollcall-item__login-template-loginOptions-TFgcI",modalOnTop:"rollcall-item__modal-on-top-TUiKf",modalWrapper:"rollcall-item__modal-wrapper-JvOkS",scIonModalIos:"rollcall-item__sc-ion-modal-ios-FpxiR",modalFullscreen:"rollcall-item__modal-fullscreen-VrlaS",scIonModalIosH:"rollcall-item__sc-ion-modal-ios-h-DFyUs",container:"rollcall-item__container-_9_AI",cover:"rollcall-item__cover-JIVth",content:"rollcall-item__content-OH7Xt",title:"rollcall-item__title-dROIv",info:"rollcall-item__info-CwH48",department:"rollcall-item__department-FNv1X",class:"rollcall-item__class-lqa55",status:"rollcall-item__status-oZ8jL",type:"rollcall-item__type-i9_UQ",radar:"rollcall-item__radar-TH29K",number:"rollcall-item__number-TSGxi",qrCode:"rollcall-item__qr-code-f1z4Y",selfRegistration:"rollcall-item__self-registration-L27yq",icon:"rollcall-item__icon-W9eLG",name:"rollcall-item__name-hcdLh"},_=o(46021);const v={};v["$style"]=g;const f=(0,_.Z)(p,[["__cssModules",v]]);var y=f,C=o(67462),k=o(8009),h=(0,a.defineComponent)({__name:"ongoing-rollcall-list-page",setup:function(l){var e=this,o=(0,k._p)("home"),n=o.useState(["ongoingRollcalls"]).ongoingRollcalls,r=o.useActions([C.gl]),s=C.gl,c=r[s],i=(0,a.computed)((function(){var l;return 0===(null===(l=n.value)||void 0===l?void 0:l.length)})),m=function(l){return(0,t.mG)(e,void 0,void 0,(function(){return(0,t.Jh)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,,2,3]),[4,c()];case 1:return e.sent(),[3,3];case 2:return null===l||void 0===l||l.subscriber.next(),[7];case 3:return[2]}}))}))};return function(l,e){var o=(0,a.resolveComponent)("HeaderComponent"),t=(0,a.resolveComponent)("PullRefresher"),r=(0,a.resolveComponent)("BlankList"),s=(0,a.resolveComponent)("ion-content"),c=(0,a.resolveComponent)("ion-page");return(0,a.openBlock)(),(0,a.createBlock)(c,null,{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(o,{options:{title:l.$t("ongoingRollcall.title")}},null,8,["options"]),(0,a.createVNode)(s,{class:(0,a.normalizeClass)(l.$style.content),"scroll-y":!i.value,ref:"content"},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)(t,{slot:"fixed",immediate:!0,onRefresh:m,ref:"refresher",class:(0,a.normalizeClass)(l.$style.refresher)},null,8,["class"]),i.value?((0,a.openBlock)(),(0,a.createBlock)(r,{key:0,name:"rollcall",message:l.$tc("blank.rollcall"),supplement:l.$t("ongoingRollcall.noRollcall")},null,8,["message","supplement"])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(l.$style.items)},[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(n),(function(l){return(0,a.openBlock)(),(0,a.createBlock)(y,{key:l.id,rollcall:l},null,8,["rollcall"])})),128))],2),i.value?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:1,class:(0,a.normalizeClass)(l.$style.refreshHint)},(0,a.toDisplayString)(l.$t("ongoingRollcall.refreshHint")),3))]})),_:1},8,["class","scroll-y"])]})),_:1})}}}),S={markdownBody:"ongoing-rollcall-list-page__markdown-body-hwMNM",loginTypeLogo:"ongoing-rollcall-list-page__login-type-logo-UXznC",loginTemplateTitle:"ongoing-rollcall-list-page__login-template-title-jEALl",loginTemplateLoginOptions:"ongoing-rollcall-list-page__login-template-loginOptions-MJGzn",modalOnTop:"ongoing-rollcall-list-page__modal-on-top-ECO_j",modalWrapper:"ongoing-rollcall-list-page__modal-wrapper-cHWz2",scIonModalIos:"ongoing-rollcall-list-page__sc-ion-modal-ios-CP1I8",modalFullscreen:"ongoing-rollcall-list-page__modal-fullscreen-JeCgT",scIonModalIosH:"ongoing-rollcall-list-page__sc-ion-modal-ios-h-OvEc_",content:"ongoing-rollcall-list-page__content-l0YKS",items:"ongoing-rollcall-list-page__items-tG6K1",refreshHint:"ongoing-rollcall-list-page__refresh-hint-AIi9g"};const $={};$["$style"]=S;const I=(0,_.Z)(h,[["__cssModules",$]]);var N=I}}]);